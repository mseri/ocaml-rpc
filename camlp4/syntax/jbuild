(rule
 ((targets (p4_rpc.ml pa_module_conv.ml))
  (action (progn
           (copy ../p4_rpc.ml p4_rpc.ml)
           (copy ../pa_module_conv.ml pa_module_conv.ml)
          ))))

(library
 ((name rpclib_syntax)
  (public_name rpclib-camlp4.syntax)
  (modules (pa_rpc p4_rpc pa_module_conv))
  (libraries (type_conv))
  (flags (:standard -linkall))
  (preprocess (action (run camlp4orf ${<})))
  (wrapped false)
 ))

